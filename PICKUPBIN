#!/bin/bash
# Pick up newly built dwarfdump in two flavors.
# Pick up libdwarf in two flavors.
set -x
# Fix the following line to match the desired libdwarf/dwarfdump source 
# directory.
source BASEFILES

(cd $libdw/libdwarf; ./configure  --enable-oldframecol ; make clean ; make  )
cp $libdw/libdwarf/libdwarf.a libdwoldframecol.a

(cd $libdw/libdwarf; ./configure  --enable-windowspath; make clean ; make  )
(cd $libdw/dwarfdump ; ./configure ; rm dwarfdump ; make)
(cd $libdw/dwarfdump2  ; ./configure ; rm dwarfdump ; make)
cp $libdw/dwarfdump2/dwarfdump  dwarfdump2W
cp $libdw/dwarfdump/dwarfdump   dwarfdumpW

(cd $libdw/libdwarf; ./configure ; make clean ; make )
cp $libdw/libdwarf/libdwarf.a libdwarf.a
(cd $libdw/dwarfdump ; ./configure ; rm dwarfdump ; make)
(cd $libdw/dwarfdump2 ; ./configure ; rm dwarfdump ; make)


cp $libdw/dwarfdump/dwarfdump  .
cp $libdw/dwarfdump/dwarfdump.conf  .
cp $libdw/dwarfdump2/dwarfdump  dwarfdump2
cp $libdw/libdwarf/gennames .
