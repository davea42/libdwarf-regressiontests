#This is solely for tracking down bugs.
#Ignore this.
opts=" -vvv --print-raw-loclists -M rnglists/readelfobj"
opts="--check-tag-attr  encisoa/DW_AT_containing_type.o"
opts=" -M -v --print-all  pe1/libexamine-0.dll"
opts=" -M -v -a emre5/test33_64_opt_fpo_split.dwp"
opts=" -M -v -a macho-kask/simplereaderi386"
opts="-a -M -v shopov2/clang-9.0.0-test-dwarf5.elf"
opts="--suppress-de-alloc-tree -b -v shopov2/clang-9.0.0-test-dwarf5.elf"
opts="--suppress-de-alloc-tree -a shopov2/clang-9.0.0-test-dwarf5.elf"

#./dwarfdump.O  $opts >junko
#dwarfdump $opts >junko
#/tmp/dwarfdump $opts >junkn

# -show_reachable shows things alloc before it could get control. 14KB.
#drmemory --  /tmp/dwarfdump $opts >junkdrmemory


#time /tmp/dwarfdump $opts >junkx

vgopts="--log-file=./vglog --num-callers=30 --leak-check=full --show-leak-kinds=all"
#vgopts="--tool=massif  --xtree-memory=allocs --xtree-memory-file=/tmp/massif-out.ms"
#vgopts="--tool=massif  --xtree-memory=full --xtree-memory-file=/tmp/massif-out.ms"
#vgopts="--tool=callgrind  "
#vgopts="--tool=massif  --xtree-memory=full --xtree-memory-file=/tmp/massif-out.ms.%p"

#dwarfdump  $opts >junko
#/tmp/dwarfdump $opts
valgrind $vgopts  /tmp/dwarfdump $opts >junkn
exit 0
#massif-visualizer /tmp/massif-out.ms

#./dwarfdump.O -i -M debugfissionb/ld-new >junkia
# --track-origins=yes (an expensive option to valgrind)
echo                 >junkcmd
#echo "b dwarf_global_formref" >>junkcmd
#echo "b _dwarf_error_string" >>junkcmd
echo "r  $opts "    >>junkcmd
gdb -x junkcmd /tmp/dwarfdump 
exit 0

#[11] 0x00000ad3 0x00000016 .debug_rnglists (0)(SHT_PROGBITS)(0,0x0,0x1)
#reo="rnglists/pe_map.o"
#readelf --debug-dump=Ranges $reo         >junkrer
#readelf --debug-dump=info $reo         >junkrer
#/tmp/dwarfdump --print-raw-rnglists  -vvv $reo > junkred

#--debug-dump[=rawline,=decodedline,=info,=abbrev,=pubnames,=aranges,=macro,=frames,
#               =frames-interp,=str,=loc,=Ranges,=pubtypes,
#               =gdb_index,=trace_info,=trace_abbrev,=trace_aranges,
#               =addr,=cu_index,=links,=follow-links]
#
